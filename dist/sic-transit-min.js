/* @preserve 
 * sic-transit.js 
 * Copyright 2024 by Anthony W. Hursh
 * MIT license.
 * @endpreserve
 */
"use strict";class SicTransit{static allInstances=[];constructor(e,t){if(this.containerId=e,this.container=document.querySelector(e),null===this.container)throw new Error("SicTransit: container "+e+" not found.  SicTransit requires a container element.");if(this.container.classList.add("sic-transit-container"),"."!==t[0])throw new Error("SicTransit: panelClass "+t+" must start with a period.");this.panelClass=t.substring(1),this.panelQuery=t,this.date=new Date,this.loadPanelStack(),this.createOverlayPanels(),SicTransit.allInstances.push(this)}getBos(e=this){if(e.panelStack.length>0)return e.panelStack[0];throw new Error("SicTransit getBos(): trying to get element at bottom of empty stack.")}getContainerId(e=this){return e.containerId}getPanelClass(e=this){return e.panelQuery}getPanelList(e=this){let t=[],a=document.querySelectorAll(e.containerId+" > "+this.panelQuery);for(let e=0;e<a.length;e++)""!==a[e].id&&t.push(a[e].id);return t}getTos(e=this){if(e.panelStack.length>0)return e.panelStack[e.panelStack.length-1];throw new Error("SicTransit getTos(): trying to get element at top of empty stack.")}getTransitionList(e=this){let t=[];for(let a in e.dispatchTable)e.dispatchTable.hasOwnProperty(a)&&t.push(a);return t}getZIndex(e,t=this){let a=this.selectPanel(e,t);return window.getComputedStyle(a).getPropertyValue("z-index")}moveToBos(e,t=this){let a=this.selectPanel(e);t.removeFromStack(a,t),t.panelStack.unshift(a),t.normalizeStack(t)}moveToTos(e,t=this){let a=this.selectPanel(e);t.removeFromStack(a,t),t.panelStack.push(a),a.remove(),t.container.appendChild(a),t.normalizeStack(t)}performTransition(e){void 0===e.self&&(e.self=this);let t=e.self;if(!0===(!0===window.matchMedia("(prefers-reduced-motion: reduce)")||!0===window.matchMedia("(prefers-reduced-motion: reduce)").matches)&&(e.transitionName=e.self.dispatchTable[e.transitionName].prefersReducedMotion),t.removeOverlayPanels(t),e.selectedPanel=t.selectPanel(e.panelSelector,t),e.startTime=(new Date).getTime(),void 0===t.dispatchTable[e.transitionName])throw new Error("SicTransit: "+e.transitionName+" is not a recognized transition");e.transitionFunction=t.dispatchTable[e.transitionName].forwardTransition,e.firstanimation=t.dispatchTable[e.transitionName].animation,e.secondanimation=t.dispatchTable[e.transitionName].secondanimation,e.transitionFunction(e)}removePanel(e,t=this){let a=t.selectPanel(e);return null!==a&&(t.removeFromAllStacks(a),a.remove()),a}rotateStack(e){let t,a=e.self;if(t=Number.isInteger(e.stackRotationNumber)?e.stackRotationNumber:1,t>0)for(let e=0;e<t;e++)a.panelStack.unshift(a.panelStack.pop());else if(t<0)for(let e=0;e>t;e--)a.panelStack.push(a.panelStack.shift());a.normalizeStack(a),a.performCallback(e)}setParameter(e,t,a){let n;n=void 0===a||"*"===a?this.getTransitionList(this):[a];for(let a=0;a<n.length;a++)this.dispatchTable[n[a]][e]=t}showPanel(e,t=this){t.transferPanel(e,t),t.moveToTos(e,t)}stackDump(e={self:this}){let t="stackDump:\n";for(const a of e.self.panelStack)t=""!==a.id?t+"id: "+a.id+" display:"+a.style.display+" z-index: "+a.style.zIndex+"\n":t+"class: "+a.className+" display:"+a.style.display+" z-index: "+a.style.zIndex+"\n"}transferPanel(e,t=this){let a=t.selectPanel(e,t);if(null===a)throw new Error("SicTransit transferPanel(): panelSelector "+panelSelector+" is invalid.");t.removePanel(a,this),a.classList.add(t.panelClass,"sic-transit-panel"),t.moveToBos(a,this),t.container.appendChild(a),a.classList.add(t.panelClass,"sic-transit-panel"),a.classList.add(t.panelClass,this.panelClass),t.resetPanel(e,this)}removeFromStack(e,t=this){let a=t.selectPanel(e,t),n=t.panelStack;for(let e=0;e<n.length;e++)if(n[e]===a)return n.splice(e,1),a;return null}removeFromAllStacks(e){for(let t=0;t<SicTransit.allInstances.length;t++)SicTransit.allInstances[t].removeFromStack(e,SicTransit.allInstances[t])}normalizeStack(e=this){let t=e.panelStack,a=0;for(let e=t.length-1;e>=0;e--){t[e].style.zIndex=a,a-=1}}removeOverlayPanels(e=this){e.panelStack=e.panelStack.filter((e=>!e.classList.contains("sic-transit-overlay-panel"))),document.querySelectorAll(".sic-transit-overlay-panel").forEach((e=>e.remove())),e.normalizeStack(e)}selectPanel(e,t=this){if(void 0===e||""===e)return t.getTos(t);if(e instanceof HTMLElement)return e;if(Number.isInteger(e)){if(e>0){if(e<t.panelStack.length)return t.panelStack[e];throw new Error("SicTransit selectPanel(): panel index "+e+" is outside the bounds of the panelStack.");return null}if(e<0){let a=t.panelStack.length+(e-1);if(a>=0)return t.panelStack[a];throw new Error("SicTransit selectPanel(): panelStack index "+a+" ("+e+" from top of stack) is outside the bounds of the panelStack.");return null}return t.panelStack[0]}if("string"==typeof e){let t=document.querySelector(e);if(null===t){throw new Error("SicTransit selectPanel(): no panels matching "+e);return null}return t}throw new Error("SicTransit selectPanel(): panelSelector "+e+" is invalid.");return null}dispatchTable={cutIn:{forwardTransition:this.cutIn,firstanimation:[],secondanimation:[],boxShadow:"10px 10px 20px rgba(0,0,0,0.5)",easing:"",duration:0,callback:null,prefersReducedMotion:"cutIn"},cutOut:{forwardTransition:this.cutOut,firstanimation:[],secondanimation:[],boxShadow:"10px 10px 20px rgba(0,0,0,0.5)",easing:"",duration:0,callback:null,prefersReducedMotion:"cutOut"},crossDissolveIn:{forwardTransition:this.crossDissolveIn,firstanimation:[{display:"block",opacity:0},{display:"block",opacity:1}],secondanimation:[{display:"block",opacity:1},{display:"block",opacity:0}],boxShadow:"10px 10px 20px rgba(0,0,0,0.5)",easing:"ease-in-out",duration:2e3,callback:null,prefersReducedMotion:"cutIn"},crossDissolveOut:{forwardTransition:this.crossDissolveOut,firstanimation:[{display:"block",opacity:1},{display:"block",opacity:0}],secondanimation:[{display:"block",opacity:0},{display:"block",opacity:1}],boxShadow:"10px 10px 20px rgba(0,0,0,0.5)",easing:"ease-in-out",duration:2e3,callback:null},fadeInFromBlack:{forwardTransition:this.fadeInFromBlack,firstanimation:[{display:"block",opacity:0},{display:"block",opacity:1}],boxShadow:"10px 10px 20px rgba(0,0,0,0.5)",easing:"ease-in-out",duration:2e3,callback:null,prefersReducedMotion:"cutIn"},fadeOutToBlack:{forwardTransition:this.fadeOutToBlack,firstanimation:[{opacity:1},{opacity:0}],boxShadow:"10px 10px 20px rgba(0,0,0,0.5)",easing:"ease-in-out",duration:2e3,callback:null,prefersReducedMotion:"cutOut"},fadeInFromGray:{forwardTransition:this.fadeInFromGray,firstanimation:[{display:"block",opacity:0},{display:"block",opacity:1}],boxShadow:"10px 10px 20px rgba(0,0,0,0.5)",easing:"ease-in-out",duration:2e3,callback:null,prefersReducedMotion:"cutIn"},fadeOutToGray:{forwardTransition:this.fadeOutToGray,firstanimation:[{opacity:1},{opacity:0}],boxShadow:"10px 10px 20px rgba(0,0,0,0.5)",easing:"ease-in-out",duration:2e3,callback:null,prefersReducedMotion:"cutOut"},fadeInFromWhite:{forwardTransition:this.fadeInFromWhite,firstanimation:[{display:"block",opacity:0},{display:"block",opacity:1}],boxShadow:"10px 10px 20px rgba(0,0,0,0.5)",easing:"ease-in-out",duration:2e3,callback:null,prefersReducedMotion:"cutIn"},fadeOutToWhite:{forwardTransition:this.fadeOutToWhite,firstanimation:[{opacity:1},{opacity:0}],boxShadow:"10px 10px 20px rgba(0,0,0,0.5)",easing:"ease-in-out",duration:2e3,callback:null,prefersReducedMotion:"cutOut"},hingeInFromBottom:{forwardTransition:this.hingeInFromBottom,firstanimation:[{display:"block",transform:"rotateX(-180deg)"},{display:"block",transform:"rotateX(0deg)"}],boxShadow:"-10px -10px 20px rgba(0,0,0,0.5)",easing:"ease-in-out",duration:1e3,callback:null,prefersReducedMotion:"cutIn"},hingeOutToBottom:{forwardTransition:this.hingeOutToBottom,firstanimation:[{display:"block",transform:"rotateX(0deg)"},{display:"block",transform:"rotateX(-180deg)"}],boxShadow:"-10px -10px 20px rgba(0,0,0,0.5)",easing:"ease-in-out",duration:1e3,callback:null,prefersReducedMotion:"cutOut"},hingeInFromLeft:{forwardTransition:this.hingeInFromLeft,firstanimation:[{display:"block",transform:"rotateY(-180deg)"},{display:"block",transform:"rotateY(0deg)"}],boxShadow:"10px 10px 20px rgba(0,0,0,0.5)",easing:"ease-in-out",duration:1e3,callback:null,prefersReducedMotion:"cutIn"},hingeOutToLeft:{forwardTransition:this.hingeOutToLeft,firstanimation:[{display:"block",transform:"rotateY(0deg)"},{display:"block",transform:"rotateY(-180deg)"}],boxShadow:"10px 10px 20px rgba(0,0,0,0.5)",easing:"ease-in-out",duration:1e3,callback:null,prefersReducedMotion:"cutOut"},hingeInFromRight:{forwardTransition:this.hingeInFromRight,firstanimation:[{display:"block",transform:"rotateY(180deg)"},{display:"block",transform:"rotateY(0deg)"}],boxShadow:"-10px -10px 20px rgba(0,0,0,0.5)",easing:"ease-in-out",duration:1e3,callback:null,prefersReducedMotion:"cutIn"},hingeOutToRight:{forwardTransition:this.hingeOutToRight,firstanimation:[{display:"block",transform:"rotateY(0deg)"},{display:"block",transform:"rotateY(180deg)"}],boxShadow:"-10px -10px 20px rgba(0,0,0,0.5)",easing:"ease-in-out",duration:1e3,callback:null,prefersReducedMotion:"cutOut"},hingeInFromTop:{forwardTransition:this.hingeInFromTop,firstanimation:[{display:"block",transform:"rotateX(180deg)"},{display:"block",transform:"rotateX(0deg)"}],boxShadow:"10px 10px 20px rgba(0,0,0,0.5)",easing:"ease-in-out",duration:1e3,callback:null,prefersReducedMotion:"cutIn"},hingeOutToTop:{forwardTransition:this.hingeOutToTop,firstanimation:[{display:"block",transform:"rotateX(0deg)"},{display:"block",transform:"rotateX(180deg)"}],boxShadow:"10px 10px 20px rgba(0,0,0,0.5)",easing:"ease-in-out",duration:1e3,callback:null,prefersReducedMotion:"cutOut"},irisIn:{forwardTransition:this.irisIn,firstanimation:[{display:"block",clipPath:"circle(0% at center"},{display:"block",clipPath:"circle(100% at center)"}],easing:"ease-in-out",duration:1e3,callback:null,prefersReducedMotion:"cutIn"},irisOut:{forwardTransition:this.irisOut,firstanimation:[{display:"block",clipPath:"circle(100% at center"},{display:"block",clipPath:"circle(0% at center)"}],easing:"ease-in-out",duration:1e3,callback:null,prefersReducedMotion:"cutOut"},irisInFromBlack:{forwardTransition:this.irisInFromBlack,easing:"ease-in-out",duration:1e3,callback:null,prefersReducedMotion:"cutIn"},irisOutToBlack:{forwardTransition:this.irisOutToBlack,easing:"ease-in-out",duration:1e3,callback:null,prefersReducedMotion:"cutOut"},irisInFromGray:{forwardTransition:this.irisInFromGray,easing:"ease-in-out",duration:1e3,callback:null,prefersReducedMotion:"cutIn"},irisOutToGray:{forwardTransition:this.irisOutToGray,easing:"ease-in-out",duration:1e3,callback:null,prefersReducedMotion:"cutOut"},irisInFromWhite:{forwardTransition:this.irisInFromWhite,easing:"ease-in-out",duration:1e3,callback:null,prefersReducedMotion:"cutIn"},irisOutToWhite:{forwardTransition:this.irisOutToWhite,easing:"ease-in-out",duration:1e3,callback:null,prefersReducedMotion:"cutOut"},menuInFromBottom:{forwardTransition:this.menuInFromBottom,firstanimation:[{display:"block",transform:"translateY(100%)"},{display:"block",transform:"translateY(%%%%)"}],boxShadow:"-10px -10px 30px rgba(0,0,0,0.5)",easing:"ease-in-out",duration:500,menuPercentage:33,callback:null,prefersReducedMotion:"menuInFromBottomReduced"},menuInFromBottomReduced:{forwardTransition:this.menuInFromBottomReduced,callback:null},menuOutToBottom:{forwardTransition:this.menuOutToBottom,firstanimation:[{transform:"translateY(%%%%)"},{transform:"translateY(100%)"}],boxShadow:"-10px -10px 20px rgba(0,0,0,0.5)",easing:"ease-in-out",duration:500,menuPercentage:33,callback:null,prefersReducedMotion:"menuOutToBottomReduced"},menuOutToBottomReduced:{forwardTransition:this.menuOutToBottomReduced,callback:null},menuInFromLeft:{forwardTransition:this.menuInFromLeft,firstanimation:[{display:"block",transform:"translateX(-100%)"},{display:"block",transform:"translateX(-%%%%)"}],boxShadow:"10px 20px 20px 30px rgba(0,0,0,0.5)",easing:"ease-in-out",duration:500,menuPercentage:33,callback:null,prefersReducedMotion:"menuInFromLeftReduced"},menuInFromLeftReduced:{forwardTransition:this.menuInFromLeftReduced,callback:null},menuOutToLeft:{forwardTransition:this.menuOutToLeft,firstanimation:[{display:"block",transform:"translateX(-%%%%)"},{display:"block",transform:"translateX(-100%)"}],boxShadow:"10px 20px 20px 30px rgba(0,0,0,0.5)",easing:"ease-in-out",duration:500,menuPercentage:33,callback:null,prefersReducedMotion:"menuOutToLeftReduced"},menuOutToLeftReduced:{forwardTransition:this.menuOutToLeftReduced,callback:null},menuInFromRight:{forwardTransition:this.menuInFromRight,firstanimation:[{display:"block",transform:"translateX(100%)"},{display:"block",transform:"translateX(%%%%)"}],boxShadow:"-10px -10px 20px 30px rgba(0,0,0,0.5)",easing:"ease-in-out",duration:500,menuPercentage:33,callback:null,prefersReducedMotion:"menuInFromRightReduced"},menuInFromRightReduced:{forwardTransition:this.menuInFromRightReduced,callback:null},menuOutToRight:{forwardTransition:this.menuOutToRight,firstanimation:[{transform:"translateX(%%%%)"},{transform:"translateX(100%)"}],boxShadow:"-10px -10px 20px 30px rgba(0,0,0,0.5)",easing:"ease-in-out",duration:500,menuPercentage:33,callback:null,prefersReducedMotion:"menuOutToRightReduced"},menuOutToRightReduced:{forwardTransition:this.menuOutToRightReduced,callback:null},menuInFromTop:{forwardTransition:this.menuInFromTop,firstanimation:[{display:"block",transform:"translateY(-100%)"},{display:"block",transform:"translateY(-%%%%)"}],boxShadow:"10px 10px 20px rgba(0,0,0,0.5)",easing:"ease-in-out",duration:500,menuPercentage:33,callback:null,prefersReducedMotion:"menuInFromTopReduced"},menuInFromTopReduced:{forwardTransition:this.menuInFromTopReduced,callback:null},menuOutToTop:{forwardTransition:this.menuOutToTop,firstanimation:[{transform:"translateY(-%%%%)"},{transform:"translateY(-100%)"}],boxShadow:"10px 10px 20px rgba(0,0,0,0.5)",easing:"ease-in-out",duration:500,menuPercentage:33,callback:null,prefersReducedMotion:"menuOutToTopReduced"},menuOutToTopReduced:{forwardTransition:this.menuOutToTopReduced,callback:null},spinIn:{forwardTransition:this.spinIn,firstanimation:[{display:"block",transform:"rotate(0deg) scale(0)"},{display:"block",transform:"rotate(720deg) scale(1)"}],boxShadow:"10px 10px 20px rgba(0,0,0,0.5)",easing:"ease-in-out",duration:1e3,callback:null,prefersReducedMotion:"cutIn"},spinOut:{forwardTransition:this.spinOut,firstanimation:[{display:"block",transform:"rotate(0deg)  scale(1)"},{display:"block",transform:"rotate(-720deg) scale(0)"}],boxShadow:"10px 10px 20px rgba(0,0,0,0.5)",easing:"ease-in-out",duration:1e3,callback:null,prefersReducedMotion:"cutOut"},rotateStack:{forwardTransition:this.rotateStack,firstanimation:[],boxShadow:"",easing:"",duration:0,callback:null},swap:{forwardTransition:this.swap,firstanimation:[],callback:null},swipeInFromBottom:{forwardTransition:this.swipeInFromBottom,firstanimation:[{display:"block",transform:"translateY(100%)"},{display:"block",transform:"translateY(0%)"}],boxShadow:"-10px -10px 30px rgba(0,0,0,0.5)",easing:"ease-in-out",duration:500,callback:null,prefersReducedMotion:"cutIn"},swipeOutToBottom:{forwardTransition:this.swipeOutToBottom,firstanimation:[{transform:"translateY(0%)"},{transform:"translateY(100%)"}],boxShadow:"-10px -10px 20px rgba(0,0,0,0.5)",easing:"ease-in-out",duration:500,callback:null,prefersReducedMotion:"cutOut"},swipeInFromLeft:{forwardTransition:this.swipeInFromLeft,firstanimation:[{display:"block",transform:"translateX(-100%)"},{display:"block",transform:"translateX(0%)"}],boxShadow:"10px 20px 20px 30px rgba(0,0,0,0.5)",easing:"ease-in-out",duration:500,callback:null,prefersReducedMotion:"cutIn"},swipeOutToLeft:{forwardTransition:this.swipeOutToLeft,firstanimation:[{display:"block",transform:"translateX(0%)"},{display:"block",transform:"translateX(-120%)"}],boxShadow:"10px 20px 20px 30px rgba(0,0,0,0.5)",easing:"ease-in-out",duration:500,callback:null,prefersReducedMotion:"cutOut"},swipeInFromRight:{forwardTransition:this.swipeInFromRight,firstanimation:[{display:"block",transform:"translateX(100%)"},{display:"block",transform:"translateX(0%)"}],boxShadow:"-10px -10px 20px 30px rgba(0,0,0,0.5)",easing:"ease-in-out",duration:500,callback:null,prefersReducedMotion:"cutIn"},swipeOutToRight:{forwardTransition:this.swipeOutToRight,firstanimation:[{transform:"translateX(0%)"},{transform:"translateX(120%)"}],boxShadow:"-10px -10px 20px 30px rgba(0,0,0,0.5)",easing:"ease-in-out",duration:500,callback:null,prefersReducedMotion:"cutOut"},swipeInFromTop:{forwardTransition:this.swipeInFromTop,firstanimation:[{display:"block",transform:"translateY(-100%)"},{display:"block",transform:"translateY(0%)"}],boxShadow:"10px 10px 20px rgba(0,0,0,0.5)",easing:"ease-in-out",duration:500,callback:null,prefersReducedMotion:"cutIn"},swipeOutToTop:{forwardTransition:this.swipeOutToTop,firstanimation:[{transform:"translateY(0%)"},{transform:"translateY(-100%)"}],boxShadow:"10px 10px 20px rgba(0,0,0,0.5)",easing:"ease-in-out",duration:500,callback:null,prefersReducedMotion:"cutOut"},zoomIn:{forwardTransition:this.zoomIn,firstanimation:[{display:"block",transform:"scale(0)"},{display:"block",transform:"scale(1)"}],boxShadow:"10px 10px 20px rgba(0,0,0,0.5)",easing:"ease-in-out",duration:500,callback:null,prefersReducedMotion:"cutIn"},zoomOut:{forwardTransition:this.zoomOut,firstanimation:[{display:"block",transform:"scale(1)"},{display:"block",transform:"scale(0)"}],boxShadow:"10px 10px 20px rgba(0,0,0,0.5)",easing:"ease-in-out",duration:500,callback:null,prefersReducedMotion:"cutIn"}};createOverlayPanels(){let e;this.specialtyPanels={};["blackpanel","graypanel","whitepanel"].forEach((t=>{e=document.createElement("div"),this.specialtyPanels[t]=e,e.classList.add(this.panelClass,"sic-transit-panel","sic-transit-"+t,"sic-transit-overlay-panel")})),this.normalizeStack()}resetPanel(e,t=this){let a=t.selectPanel(e,t);a.style.display="block",a.style.opacity=1,a.style.removeProperty("transform"),a.style.removeProperty("transformOrigin"),a.style.removeProperty("clip-path"),a.style.animationFillMode="none"}loadPanelStack(e=this){e.panelStack=[];const t=document.querySelectorAll(e.containerId+" > "+e.panelQuery);e.panelStack=[...t];for(let t=0;t<e.panelStack.length;t++)e.panelStack[t].classList.add("sic-transit-panel");e.normalizeStack(e)}async performAnimation(e){let t=e.self,a=t.dispatchTable[e.transitionName];t.moveToTos(e.selectedPanel,t),await navigator.locks.request("animation_lock",(async t=>{const n=e.selectedPanel.animate(e.firstanimation,{easing:a.easing,duration:a.duration,fill:"forwards"});await n.finished,n.commitStyles(),n.cancel(),e.finishHandler()}))}performCallback(e){let t=e.self.dispatchTable[e.transitionName];null!==t.callback&&(e.endTime=(new Date).getTime(),t.callback(e))}stackSwap(e=this){if(e.panelStack.length<2){throw new Error("SicTransit stackSwap(): can't swap when length of panelStack is < 2.");return}let t=e.panelStack.pop(),a=e.panelStack.pop();e.panelStack.push(t),e.panelStack.push(a),e.normalizeStack(e)}cutIn(e){let t=e.self;t.resetPanel(e.selectedPanel,t),t.showPanel(e.selectedPanel,t),t.performCallback(e)}cutOut(e){let t=e.self;t.moveToBos(e.selectedPanel,t),t.resetPanel(e.selectedPanel,t),t.performCallback(e)}async crossDissolveIn(e){let t=e.self,a=t.dispatchTable[e.transitionName];t.moveToBos(e.selectedPanel,t);let n=t.panelStack.pop();t.panelStack.push(t.specialtyPanels.graypanel),t.panelStack.push(n),t.resetPanel(n,t),t.normalizeStack(t),t.resetPanel(e.selectedPanel,t),t.moveToTos(e.selectedPanel,t),e.finishHandler=function(){t.resetPanel(e.selectedPanel,t),t.normalizeStack(t),t.performCallback(e)},await navigator.locks.request("animation_lock",(async t=>{const i=e.selectedPanel.animate(a.firstanimation,{easing:a.easing,duration:a.duration+100,fill:"forwards"}),l=n.animate(a.secondanimation,{easing:a.easing,duration:a.duration,fill:"forwards"});await i.finished,i.commitStyles(),i.cancel(),await l.finished,l.commitStyles(),l.cancel(),e.finishHandler()}))}async crossDissolveOut(e){let t=e.self;e.transitionName="crossDissolveIn";let a=e.selectedPanel;t.moveToBos(a,t),e.selectedPanel=t.panelStack.pop(),t.moveToTos(a,t),t.normalizeStack(t),t.crossDissolveIn(e)}doFadeIn(e){let t=e.self;t.resetPanel(e.fadePanel,t),t.moveToTos(e.fadePanel,t),t.container.append(e.fadePanel),t.resetPanel(e.selectedPanel,t),e.selectedPanel.style.opacity=0,t.moveToTos(e.selectedPanel,t),e.finishHandler=function(){t.moveToBos(e.fadePanel,t),t.performCallback(e)},t.performAnimation(e)}doFadeOut(e){let t=e.self;t.resetPanel(e.selectedPanel,t),e.fadePanel.style.opacity=0,t.container.append(e.fadePanel);let a=e.selectedPanel;e.selectedPanel=e.fadePanel,e.fadePanel=a,t.doFadeIn(e)}fadeInFromBlack(e){let t=e.self;e.firstanimation=t.dispatchTable.fadeInFromBlack.firstanimation,e.fadePanel=t.specialtyPanels.blackpanel,t.doFadeIn(e)}fadeOutToBlack(e){let t=e.self;e.firstanimation=t.dispatchTable.fadeInFromBlack.firstanimation,e.fadePanel=t.specialtyPanels.blackpanel,t.doFadeOut(e)}fadeInFromGray(e){let t=e.self;e.firstanimation=t.dispatchTable.fadeInFromGray.firstanimation,e.fadePanel=t.specialtyPanels.graypanel,t.doFadeIn(e)}fadeOutToGray(e){let t=e.self;e.firstanimation=t.dispatchTable.fadeInFromGray.firstanimation,e.fadePanel=t.specialtyPanels.graypanel,t.doFadeOut(e)}fadeInFromWhite(e){let t=e.self,a=t.dispatchTable.fadeInFromWhite;e.firstanimation=a.firstanimation,e.fadePanel=t.specialtyPanels.whitepanel,t.doFadeIn(e)}fadeOutToWhite(e){let t=e.self;e.firstanimation=t.dispatchTable.fadeInFromWhite.firstanimation,e.fadePanel=t.specialtyPanels.whitepanel,t.doFadeOut(e)}hinge(e){let t=e.self;t.resetPanel(e.selectedPanel,t),t.container.style["-webkit-perspective"]="1000px",t.container.style.perspective="1000px",t.container.style["-webkit-perspectiveOrigin"]="left",t.container.style.perspectiveOrigin="left",e.finishHandler=function(){e.selectedPanel.style["-webkit-transformOrigin"]="center",e.selectedPanel.style.transformOrigin="center",t.performCallback(e)},t.performAnimation(e)}hingeInFromBottom(e){let t=e.self,a=t.dispatchTable.hingeInFromBottom;e.firstanimation=a.firstanimation,e.selectedPanel.style["-webkit-transformOrigin"]="bottom",e.selectedPanel.style.transformOrigin="bottom",t.hinge(e)}hingeOutToBottom(e){let t=e.self,a=t.dispatchTable.hingeOutToBottom;e.firstanimation=a.firstanimation,e.selectedPanel.style["-webkit-transformOrigin"]="bottom",e.selectedPanel.style.transformOrigin="bottom",t.hinge(e)}hingeInFromLeft(e){let t=e.self,a=t.dispatchTable.hingeInFromLeft;e.firstanimation=a.firstanimation,e.selectedPanel.style["-webkit-transformOrigin"]="left",e.selectedPanel.style.transformOrigin="left",t.hinge(e)}hingeOutToLeft(e){let t=e.self,a=t.dispatchTable.hingeOutToLeft;e.firstanimation=a.firstanimation,e.selectedPanel.style["-webkit-transformOrigin"]="left",e.selectedPanel.style.transformOrigin="left",t.hinge(e)}hingeInFromRight(e){let t=e.self,a=t.dispatchTable.hingeInFromRight;e.firstanimation=a.firstanimation,e.selectedPanel.style["-webkit-transformOrigin"]="right",e.selectedPanel.style.transformOrigin="right",t.hinge(e)}hingeOutToRight(e){let t=e.self,a=t.dispatchTable.hingeOutToRight;e.firstanimation=a.firstanimation,e.selectedPanel.style["-webkit-transformOrigin"]="right",e.selectedPanel.style.transformOrigin="right",t.hinge(e)}hingeInFromTop(e){let t=e.self,a=t.dispatchTable.hingeInFromTop;e.firstanimation=a.firstanimation,e.selectedPanel.style["-webkit-transformOrigin"]="top",e.selectedPanel.style.transformOrigin="top",t.hinge(e)}hingeOutToTop(e){let t=e.self,a=t.dispatchTable.hingeOutToTop;e.firstanimation=a.firstanimation,e.selectedPanel.style["-webkit-transformOrigin"]="top",e.selectedPanel.style.transformOrigin="top",t.hinge(e)}getElementDiagonal(e){let t=getComputedStyle(e),a=parseInt(t.width),n=parseInt(t.height);return Math.ceil(Math.sqrt(a*a+n*n))}irisIn(e){let t=e.self,a=t.dispatchTable.irisIn,n=e.selectedPanel;t.resetPanel(n,t),n.style.clipPath="circle(0% at center)",n.style.display="block",t.moveToTos(n,t),e.firstanimation=a.firstanimation,e.finishHandler=function(){n.style.display="block",n.style.clipPath="none",t.performCallback(e)},t.performAnimation(e)}irisOut(e){let t=e.self,a=t.dispatchTable.irisOut,n=e.selectedPanel;t.resetPanel(n,t),n.style.clipPath="circle(100% at center)",n.style.display="block",t.moveToTos(n,t),e.firstanimation=a.firstanimation,e.finishHandler=function(){t.moveToBos(n,t),n.style.removeProperty("clip-path"),t.performCallback(e)},t.performAnimation(e)}irisInFromBlack(e){let t=e.self;t.container.append(t.specialtyPanels.blackpanel),t.moveToTos(t.specialtyPanels.blackpanel),t.irisIn(e)}irisOutToBlack(e){let t=e.self;t.specialtyPanels.blackpanel.style.display="none",t.moveToTos(t.specialtyPanels.blackpanel,t),t.container.append(t.specialtyPanels.blackpanel),t.normalizeStack(),t.specialtyPanels.blackpanel.style.display="block",t.irisOut(e)}irisInFromGray(e){let t=e.self;t.moveToTos(t.specialtyPanels.graypanel),t.container.append(t.specialtyPanels.graypanel),t.irisIn(e)}irisOutToGray(e){let t=e.self;t.specialtyPanels.graypanel.style.display="none",t.moveToTos(t.specialtyPanels.graypanel,t),t.container.append(t.specialtyPanels.graypanel),t.normalizeStack(),t.specialtyPanels.graypanel.style.display="block",t.irisOut(e)}irisInFromWhite(e){let t=e.self;t.moveToTos(t.specialtyPanels.whitepanel),t.container.append(t.specialtyPanels.whitepanel),t.irisIn(e)}irisOutToWhite(e){let t=e.self;t.specialtyPanels.whitepanel.style.display="none",t.moveToTos(t.specialtyPanels.whitepanel,t),t.container.append(t.specialtyPanels.whitepanel),t.normalizeStack(),t.specialtyPanels.whitepanel.style.display="block",t.irisOut(e)}menuInFromBottom(e){let t=e.self;t.moveToBos(e.selectedPanel,t),t.resetPanel(e.selectedPanel,t);let a=t.dispatchTable.menuInFromBottom,n=100-a.menuPercentage;e.selectedPanel.transform="translateY(100%)",t.moveToTos(e.selectedPanel,t),e.firstanimation=JSON.parse(JSON.stringify(a.firstanimation).replace("%%%",n)),e.finishHandler=function(){t.moveToTos(e.selectedPanel,t),e.selectedPanel.style.display="block",e.selectedPanel.style.transform="translateY("+n+"%)",t.performCallback(e)},t.performAnimation(e)}menuInFromBottomReduced(e){let t=e.self;t.moveToBos(e.selectedPanel,t),t.resetPanel(e.selectedPanel,t);let a=100-t.dispatchTable.menuInFromBottom.menuPercentage;e.selectedPanel.style.transform="translateY("+a+"%)",t.moveToTos(e.selectedPanel,t),e.selectedPanel.style.display="block",t.performCallback(e)}menuOutToBottom(e){let t=e.self;t.moveToTos(e.selectedPanel,t);let a=t.dispatchTable.menuOutToBottom,n=100-a.menuPercentage;e.firstanimation=JSON.parse(JSON.stringify(a.firstanimation).replace("%%%",n)),e.finishHandler=function(){t.moveToBos(e.selectedPanel,t),t.resetPanel(e.selectedPanel,t),t.performCallback(e)},t.performAnimation(e)}menuOutToBottomReduced(e){let t=e.self;t.moveToBos(e.selectedPanel,t),t.resetPanel(e.selectedPanel,t),e.selectedPanel.style.transform="translateY(0%)",t.performCallback(e)}menuInFromLeft(e){let t=e.self;t.moveToBos(e.selectedPanel,t),t.resetPanel(e.selectedPanel,t);let a=t.dispatchTable.menuInFromLeft,n=100-a.menuPercentage;e.firstanimation=JSON.parse(JSON.stringify(a.firstanimation).replace("%%%",n)),e.selectedPanel.style.transform="translateX(-100%)",t.moveToTos(e.selectedPanel,t),e.finishHandler=function(){e.selectedPanel.style.display="block",e.selectedPanel.style.transform="translateX(-"+n+"%)",t.performCallback(e)},t.performAnimation(e)}menuInFromLeftReduced(e){let t=e.self;t.moveToBos(e.selectedPanel,t),t.resetPanel(e.selectedPanel,t);let a=100-t.dispatchTable.menuInFromLeft.menuPercentage;e.selectedPanel.style.transform="translateX(-"+a+"%)",t.moveToTos(e.selectedPanel,t),e.selectedPanel.style.display="block",t.performCallback(e)}menuOutToLeft(e){let t=e.self,a=t.dispatchTable.menuOutToLeft,n=100-a.menuPercentage;e.firstanimation=JSON.parse(JSON.stringify(a.firstanimation).replace("%%%",n)),e.finishHandler=function(){t.moveToBos(e.selectedPanel,t),t.resetPanel(e.selectedPanel,t),t.performCallback(e)},t.performAnimation(e)}menuOutToLeftReduced(e){let t=e.self;t.moveToBos(e.selectedPanel,t),t.resetPanel(e.selectedPanel,t),e.selectedPanel.style.transform="translateX(0%)",t.performCallback(e)}menuInFromRight(e){let t=e.self;t.moveToBos(e.selectedPanel,t),t.resetPanel(e.selectedPanel,t);let a=t.dispatchTable.menuInFromRight,n=100-a.menuPercentage;e.firstanimation=JSON.parse(JSON.stringify(a.firstanimation).replace("%%%",n)),e.selectedPanel.transform="translateX(100%)",t.moveToTos(e.selectedPanel,t),e.finishHandler=function(){e.selectedPanel.style.display="block",e.selectedPanel.style.transform="translateX("+n+"%)",t.performCallback(e)},t.performAnimation(e)}menuInFromRightReduced(e){let t=e.self;t.moveToBos(e.selectedPanel,t),t.resetPanel(e.selectedPanel,t);let a=100-t.dispatchTable.menuInFromRight.menuPercentage;e.selectedPanel.style.transform="translateX("+a+"%)",t.moveToTos(e.selectedPanel,t),e.selectedPanel.style.display="block",t.performCallback(e)}menuOutToRight(e){let t=e.self,a=t.dispatchTable.menuOutToRight,n=100-a.menuPercentage;e.firstanimation=JSON.parse(JSON.stringify(a.firstanimation).replace("%%%",n)),e.finishHandler=function(){t.moveToBos(e.selectedPanel,t),t.resetPanel(e.selectedPanel,t),t.performCallback(e)},t.performAnimation(e)}menuOutToRightReduced(e){let t=e.self;t.moveToBos(e.selectedPanel,t),t.resetPanel(e.selectedPanel,t),e.selectedPanel.style.transform="translateX(0%)",t.performCallback(e)}menuInFromTop(e){let t=e.self;t.moveToBos(e.selectedPanel,t),t.resetPanel(e.selectedPanel,t);let a=t.dispatchTable.menuInFromTop,n=100-a.menuPercentage;e.firstanimation=JSON.parse(JSON.stringify(a.firstanimation).replace("%%%",n)),e.selectedPanel.transform="translateY(-100%)",t.moveToTos(e.selectedPanel,t),e.finishHandler=function(){e.selectedPanel.style.transform="translateY(-"+n+"%)",e.selectedPanel.style.display="block",t.performCallback(e)},t.performAnimation(e)}menuInFromTopReduced(e){let t=e.self;t.moveToBos(e.selectedPanel,t),t.resetPanel(e.selectedPanel,t);let a=100-t.dispatchTable.menuInFromTop.menuPercentage;e.selectedPanel.style.transform="translateY(-"+a+"%)",t.moveToTos(e.selectedPanel,t),e.selectedPanel.style.display="block",t.performCallback(e)}menuOutToTop(e){let t=e.self,a=t.dispatchTable.menuOutToTop,n=100-a.menuPercentage;e.firstanimation=JSON.parse(JSON.stringify(a.firstanimation).replace("%%%",n)),e.finishHandler=function(){t.moveToBos(e.selectedPanel,t),t.resetPanel(e.selectedPanel,t),t.performCallback(e)},t.performAnimation(e)}menuOutToTopReduced(e){let t=e.self;t.moveToBos(e.selectedPanel,t),t.resetPanel(e.selectedPanel,t),e.selectedPanel.style.transform="translateY(0%)",t.performCallback(e)}spinIn(e){let t=e.self;t.moveToBos(e.selectedPanel,t),t.resetPanel(e.selectedPanel,t),e.selectedPanel.style.transform="scale(0)",t.moveToTos(e.selectedPanel,t);let a=t.dispatchTable.spinIn;e.firstanimation=a.firstanimation,e.finishHandler=function(){t.resetPanel(e.selectedPanel,t),t.performCallback(e)},t.performAnimation(e)}spinOut(e){let t=e.self;t.resetPanel(e.selectedPanel,t);let a=t.dispatchTable.spinOut;e.firstanimation=a.firstanimation,e.finishHandler=function(){t.moveToBos(e.selectedPanel,t),t.resetPanel(e.selectedPanel,t),t.performCallback(e)},t.performAnimation(e)}swap(e){let t=e.self;t.stackSwap(t),t.normalizeStack(),t.performCallback(e)}swipeInFromBottom(e){let t=e.self;t.moveToBos(e.selectedPanel,t),t.resetPanel(e.selectedPanel,t);let a=t.dispatchTable.swipeInFromBottom;e.firstanimation=a.firstanimation,e.selectedPanel.transform="translateY(100%)",t.moveToTos(e.selectedPanel,t),e.finishHandler=function(){t.resetPanel(e.selectedPanel,t),t.performCallback(e)},t.performAnimation(e)}swipeOutToBottom(e){let t=e.self;t.resetPanel(e.selectedPanel,t),t.moveToTos(e.selectedPanel,t);let a=t.dispatchTable.swipeOutToBottom;e.firstanimation=a.firstanimation,e.finishHandler=function(){t.moveToBos(e.selectedPanel,t),t.resetPanel(e.selectedPanel,t),t.performCallback(e)},t.performAnimation(e)}swipeInFromLeft(e){let t=e.self;t.moveToBos(e.selectedPanel,t),t.resetPanel(e.selectedPanel,t);let a=t.dispatchTable.swipeInFromLeft;e.firstanimation=a.firstanimation,e.selectedPanel.transform="translateX(-100%)",t.moveToTos(e.selectedPanel,t),e.selectedPanel.style.display="block",e.finishHandler=function(){t.resetPanel(e.selectedPanel,t),t.performCallback(e)},t.performAnimation(e)}swipeOutToLeft(e){let t=e.self;t.resetPanel(e.selectedPanel,t),t.moveToTos(e.selectedPanel,t);let a=t.dispatchTable.swipeOutToLeft;e.firstanimation=a.firstanimation,e.finishHandler=function(){t.moveToBos(e.selectedPanel,t),t.resetPanel(e.selectedPanel,t),t.performCallback(e)},t.performAnimation(e)}swipeInFromRight(e){let t=e.self;t.moveToBos(e.selectedPanel,t),t.resetPanel(e.selectedPanel,t);let a=t.dispatchTable.swipeInFromRight;e.firstanimation=a.firstanimation,e.selectedPanel.transform="translateX(100%)",t.moveToTos(e.selectedPanel,t),e.finishHandler=function(){e.selectedPanel.style.display="block",t.performCallback(e)},t.performAnimation(e)}swipeOutToRight(e){let t=e.self;t.resetPanel(e.selectedPanel,t);let a=t.dispatchTable.swipeOutToRight;e.firstanimation=a.firstanimation,e.finishHandler=function(){t.moveToBos(e.selectedPanel,t),t.resetPanel(e.selectedPanel,t),t.performCallback(e)},t.performAnimation(e)}swipeInFromTop(e){let t=e.self;t.moveToBos(e.selectedPanel,t),t.resetPanel(e.selectedPanel,t);let a=t.dispatchTable.swipeInFromTop;e.firstanimation=a.firstanimation,e.selectedPanel.transform="translateY(100%)",t.moveToTos(e.selectedPanel,t),e.finishHandler=function(){t.resetPanel(e.selectedPanel,t),t.performCallback(e)},t.performAnimation(e)}swipeOutToTop(e){let t=e.self;t.resetPanel(e.selectedPanel,t);let a=t.dispatchTable.swipeOutToTop;e.firstanimation=a.firstanimation,e.finishHandler=function(){t.moveToBos(e.selectedPanel,t),t.resetPanel(e.selectedPanel,t),e.selectedPanel.style.transform="translateY(0%)",t.performCallback(e)},t.performAnimation(e)}zoomIn(e){let t=e.self;t.moveToBos(e.selectedPanel,t),t.resetPanel(e.selectedPanel,t),e.selectedPanel.transform="scale(0)",t.moveToTos(e.selectedPanel,t);let a=t.dispatchTable.zoomIn;e.firstanimation=a.firstanimation,e.finishHandler=function(){t.resetPanel(e.selectedPanel,t),t.performCallback(e)},t.performAnimation(e)}zoomOut(e){let t=e.self;t.resetPanel(e.selectedPanel,t),t.moveToTos(e.selectedPanel,t);let a=t.dispatchTable.zoomOut;e.firstanimation=a.firstanimation,e.finishHandler=function(){t.moveToBos(e.selectedPanel,t),t.resetPanel(e.selectedPanel,t),t.performCallback(e)},t.performAnimation(e)}}