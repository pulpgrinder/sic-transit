<!DOCTYPE html>
<html lang="en">
<!-- Sic Transit Demo. Copyright 2023 by Anthony W. Hursh. MIT license -->
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="UTF-8">
    <meta http-equiv="Cache-Control" content="no-store,must-revalidate,max-age=-1">
    <meta http-equiv="Pragma" content="no-store">
    <meta http-equiv="Expires" content="0">
    <link rel="stylesheet" href="sic-transit.css">
    <link rel="stylesheet" href="sic-demo.css">
    <title>Sic Transit</title>
  </head>
  <body>
    <div id="demo-container" class="sic-container">
        <div id="slide1" class="demo-panel sic-panel">
            Slide 1
        </div>
        <div id="slide2" class="demo-panel sic-panel">
            Slide 2
        </div>
        <div id="slide3" class="demo-panel sic-panel">
            Slide 3
        </div>
        <div id="slide4" class="demo-panel sic-panel">
            Slide 4
        </div>
        <div id="slide5" class="demo-panel sic-panel">
            Slide 5
        </div>
        <div id="slide6" class="demo-panel sic-panel">
            Slide 6
        </div>
    </div>
    <div>
    Element: <select title="elementSelector" id="elementSelector"></select>
    Transition: <select id="transitionSelector" title="transitionSelector"></select>
    Duration (ms): <input type="text" title="duration" id="duration" size="4" value="500" />
    Rotations: <input type="text" title="rotations"  id="rotations" size="4" value="1" />
    Direction: <input type="text" title = "direction" id="direction" size="4" value="1" />
    <button title="performTransition" id="performTransition">Perform Transition</button>
  </body>
  <script type="text/javascript" src="sic-transit.js"></script>
  <script type="text/javascript">
 
    function callbackTest(args){
        console.log("elementSelector: " + args.elementSelector);
        console.log("transitionName: " + args.transitionName);
        console.log("direction: " + args.direction);
        console.log("elapsed time: " + (args.endTime - args.startTime));
        transit.stackDump(args);
    }
function loadUI(){
    let transitions = Object.keys(transit.dispatchTable);
    let panels = transit.getPanelList();
    let transitionSelector = document.getElementById("transitionSelector");
    let elementSelector = document.getElementById("elementSelector");
    let transition;
    let element;
    for(let i = 0; i < panels.length; i++){
        element = document.createElement('option');
        element.value = panels[i];
        element.text = panels[i];
        elementSelector.appendChild(element);
    }
    for(let i = 0; i < transitions.length; i++){
        transition = document.createElement('option');
        transition.value = transitions[i];
        transition.text = transitions[i];
        transitionSelector.appendChild(transition);
    }
}

let transit = new SicTransit("#demo-container",".demo-panel");
transit.setCallback(callbackTest);
loadUI();

  </script>
 </html>